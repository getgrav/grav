{% extends 'partials/base.html.twig' %}

{% block content %}
    {% set modules = page.collection() %}
    {% if modules|length > 0 %}
        {% for module in modules %}
            {% set module_template = module.template() %}
            {% if module_template %}
                {% include [module_template ~ '.html.twig', 'modular/default.html.twig'] with {'page': module, 'header': module.header} %}
            {% else %}
                <section class="modular-section {{ module.header.class|default('') }}">
                    <div class="container">
                        {{ module.content|raw }}
                    </div>
                </section>
            {% endif %}
        {% endfor %}
    {% else %}
        <div class="container">
            <p>No modules found. Please check your page configuration.</p>
        </div>
    {% endif %}
{% endblock %}

